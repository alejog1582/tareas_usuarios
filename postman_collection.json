{
	"info": {
		"_postman_id": "tareas-usuarios-api",
		"name": "Tareas de Usuarios - API REST",
		"description": "Colección de Postman para la API REST de gestión de tareas de usuarios",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Usuarios",
			"item": [
				{
					"name": "Listar todos los usuarios",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users"
							]
						},
						"description": "Obtiene la lista de todos los usuarios con el conteo de sus tareas"
					},
					"response": []
				},
				{
					"name": "Listar tareas de un usuario",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/{{user_id}}/tasks",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"{{user_id}}",
								"tasks"
							]
						},
						"description": "Obtiene todas las tareas de un usuario específico"
					},
					"response": []
				}
			],
			"description": "Endpoints para gestión de usuarios"
		},
		{
			"name": "Tareas",
			"item": [
				{
					"name": "Crear nueva tarea",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Nueva tarea de prueba\",\n    \"description\": \"Esta es una descripción de la tarea\",\n    \"status\": \"pending\",\n    \"user_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/tasks",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"tasks"
							]
						},
						"description": "Crea una nueva tarea asignada a un usuario"
					},
					"response": []
				},
				{
					"name": "Actualizar tarea",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Título actualizado\",\n    \"description\": \"Descripción actualizada\",\n    \"status\": \"completed\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/tasks/{{task_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"tasks",
								"{{task_id}}"
							]
						},
						"description": "Actualiza una tarea existente"
					},
					"response": []
				},
				{
					"name": "Eliminar tarea",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/tasks/{{task_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"tasks",
								"{{task_id}}"
							]
						},
						"description": "Elimina una tarea específica"
					},
					"response": []
				}
			],
			"description": "Endpoints para gestión de tareas (requieren autenticación)"
		},
		{
			"name": "Ejemplos de Error",
			"item": [
				{
					"name": "Crear tarea con datos inválidos",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Test\",\n    \"description\": \"Esta descripción es demasiado larga y supera los 500 caracteres permitidos. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium.\",\n    \"status\": \"invalid_status\",\n    \"user_id\": 999\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/tasks",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"tasks"
							]
						},
						"description": "Ejemplo de creación de tarea con datos inválidos para probar validaciones"
					},
					"response": []
				},
				{
					"name": "Crear tarea sin token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Tarea sin autenticación\",\n    \"description\": \"Esta tarea no debería crearse\",\n    \"status\": \"pending\",\n    \"user_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/tasks",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"tasks"
							]
						},
						"description": "Ejemplo de creación de tarea sin token de autenticación"
					},
					"response": []
				},
				{
					"name": "Eliminar tarea inexistente",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{api_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/tasks/999",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"tasks",
								"999"
							]
						},
						"description": "Ejemplo de eliminación de tarea que no existe"
					},
					"response": []
				}
			],
			"description": "Ejemplos de requests que generan errores para probar el manejo de errores"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "api_token",
			"value": "tareas_usuarios_api_token_2025_secret_key",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "1",
			"type": "string"
		},
		{
			"key": "task_id",
			"value": "1",
			"type": "string"
		}
	]
}
